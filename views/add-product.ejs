<%- include('parts/header.ejs') %>
<%- include('parts/navbar.ejs') %>

<% if(authError){ %>
  <p style="margin-top: 40px" class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= authError %></strong> </p>
<% } %> 

<div class="container" style="margin-top: 25px;">
    <h3 style="color:green;font-weight:800; margin-bottom: 10px;" class="text-center">Add Product</h3>
    <form class="container" action="/admin/add" method="POST" enctype="multipart/form-data"  style="width: 600px;">
        <div class="mb-3">
          <input type="text" name="name" class="form-control" placeholder="Product Name">
          <% let nameError = validationError.find(err => err.param === 'name') %>
          <% if(nameError){ %>
            <p class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= nameError.msg %></strong> </p>
            <% } %> 
        </div>
        <div class="mb-3">
            <input type="number" name="price" class="form-control" placeholder="Product Price...$$">
            <% let priceError = validationError.find(err =>err.param === 'price') %>
            <% if(priceError){ %>
              <p class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= priceError.msg %></strong> </p>
              <% } %> 
          </div>
          <div class="mb-3">
            <textarea name="description" placeholder="Write product description here" class="form-control"  rows="3"></textarea>
            <% let descriptionError = validationError.find(err =>err.param === 'description') %>
            <% if(descriptionError){ %>
              <p class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= descriptionError.msg %></strong> </p>
              <% } %> 
          </div>
          <div class="mb-3">
          <select class="form-select" name="category" >
            <option value="computers">Computers</option>
            <option value="screens">Screens</option>
            <option value="phones">Phones</option>
            <option value="clothes">Clothes</option>
          </select>
          <% let categoryError = validationError.find(err =>err.param === 'category') %>
            <% if(categoryError){ %>
              <p class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= categoryError.msg %></strong> </p>
              <% } %> 
        </div>
          <div class="mb-3">
            <input type="file" name="image" class="form-control">
            <% let imageError = validationError.find(err =>err.param === 'image') %>
            <% if(imageError){ %>
              <p class=" text-center"><strong style="color: red;font-weight:800;font-style: italic;"><%= imageError.msg %></strong> </p>
              <% } %> 
          </div>
        <div class="container text-center">
          <input type="submit" value="Add Product" class="btn btn-primary ">
        </div>  
        
      </form>
</div>

<%- include('parts/footer.ejs') %> 